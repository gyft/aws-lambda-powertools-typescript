<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Tracer | aws-lambda-powertools-typescript</title><meta name="description" content="Documentation for aws-lambda-powertools-typescript"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">aws-lambda-powertools-typescript</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">aws-lambda-powertools-typescript</a></li><li><a href="../modules/_aws_lambda_powertools_tracer.html">@aws-lambda-powertools/tracer</a></li><li><a href="_aws_lambda_powertools_tracer.Tracer.html">Tracer</a></li></ul><h1>Class Tracer </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">

<a href="#intro" id="intro" style="color: inherit; text-decoration: none;">
  <h2>Intro</h2>
</a>
<p>Tracer is an opinionated thin wrapper for <a href="https://github.com/aws/aws-xray-sdk-node">AWS X-Ray SDK for Node.js</a>.</p>
</div><div><p>Tracing data can be visualized through AWS X-Ray Console.</p>

<a href="#key-features" id="key-features" style="color: inherit; text-decoration: none;">
  <h2>Key features</h2>
</a>
<ul>
<li>Auto capture cold start as annotation, and responses or full exceptions as metadata</li>
<li>Auto-disable when not running in AWS Lambda environment</li>
<li>Automatically trace HTTP(s) clients and generate segments for each request</li>
<li>Support tracing functions via decorators, middleware, and manual instrumentation</li>
<li>Support tracing AWS SDK v2 and v3 via AWS X-Ray SDK for Node.js</li>
</ul>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>For more usage examples, see <a href="https://awslabs.github.io/aws-lambda-powertools-typescript/latest/core/tracer/">our documentation</a>.</p>

<a href="#functions-usage-with-middleware" id="functions-usage-with-middleware" style="color: inherit; text-decoration: none;">
  <h3>Functions usage with middleware</h3>
</a>
<p>If you use function-based Lambda handlers you can use the <a href="./_aws_lambda_powertools_tracer.Tracer.html">captureLambdaHandler()</a> middy middleware to automatically:</p>
<ul>
<li>handle the subsegment lifecycle</li>
<li>add the <code>ServiceName</code> and <code>ColdStart</code> annotations</li>
<li>add the function response as metadata</li>
<li>add the function error as metadata (if any)</li>
</ul>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">captureLambdaHandler</span><span class="hl-1">, </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">middy</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@middy/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handler</span><span class="hl-1"> = </span><span class="hl-6">middy</span><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}).</span><span class="hl-6">use</span><span class="hl-1">(</span><span class="hl-6">captureLambdaHandler</span><span class="hl-1">(</span><span class="hl-2">tracer</span><span class="hl-1">));</span>
</code></pre>

<a href="#object-oriented-usage-with-decorators" id="object-oriented-usage-with-decorators" style="color: inherit; text-decoration: none;">
  <h3>Object oriented usage with decorators</h3>
</a>
<p>If instead you use TypeScript Classes to wrap your Lambda handler you can use the <a href="./_aws_lambda_powertools_tracer.Tracer.html#captureLambdaHandler">@tracer.captureLambdaHandler()</a> decorator to automatically:</p>
<ul>
<li>handle the subsegment lifecycle</li>
<li>add the <code>ServiceName</code> and <code>ColdStart</code> annotations</li>
<li>add the function response as metadata</li>
<li>add the function error as metadata (if any)</li>
</ul>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-8">// FYI: Decorator might not render properly in VSCode mouse over due to https://github.com/microsoft/TypeScript/issues/39371 and might show as *@tracer* instead of `@tracer.captureLambdaHandler`</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">Lambda</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureLambdaHandler</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1">(</span><span class="hl-2">event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handlerClass</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Lambda</span><span class="hl-1">();</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handler</span><span class="hl-1"> = </span><span class="hl-2">handlerClass</span><span class="hl-1">.</span><span class="hl-2">handler</span><span class="hl-1">; </span>
</code></pre>

<a href="#functions-usage-with-manual-instrumentation" id="functions-usage-with-manual-instrumentation" style="color: inherit; text-decoration: none;">
  <h3>Functions usage with manual instrumentation</h3>
</a>
<p>If you prefer to manually instrument your Lambda handler you can use the methods in the tracer class directly.</p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Segment</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;aws-xray-sdk-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">segment</span><span class="hl-1"> = </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">getSegment</span><span class="hl-1">(); </span><span class="hl-8">// This is the facade segment (the one that is created by AWS Lambda)</span><br/><span class="hl-1">  </span><span class="hl-8">// Create subsegment for the function &amp; set it as active</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">subsegment</span><span class="hl-1"> = </span><span class="hl-2">segment</span><span class="hl-1">.</span><span class="hl-6">addNewSubsegment</span><span class="hl-1">(</span><span class="hl-3">`## </span><span class="hl-4">${</span><span class="hl-2">process</span><span class="hl-10">.</span><span class="hl-2">env</span><span class="hl-10">.</span><span class="hl-2">_HANDLER</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">setSegment</span><span class="hl-1">(</span><span class="hl-2">subsegment</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// Annotate the subsegment with the cold start &amp; serviceName</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">annotateColdStart</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">addServiceNameAnnotation</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">res</span><span class="hl-1"> = ...</span><br/><span class="hl-1">      </span><span class="hl-8">// Add the response as metadata </span><br/><span class="hl-1">      </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">addResponseAsMetadata</span><span class="hl-1">(</span><span class="hl-2">res</span><span class="hl-1">, </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-2">_HANDLER</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">err</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// Add the error as metadata</span><br/><span class="hl-1">      </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">addErrorAsMetadata</span><span class="hl-1">(</span><span class="hl-2">err</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-7">Error</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">err</span><span class="hl-1">;</span><br/><span class="hl-1">  } </span><span class="hl-0">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-8">// Close the subsegment</span><br/><span class="hl-1">      </span><span class="hl-2">subsegment</span><span class="hl-1">.</span><span class="hl-6">close</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-8">// Set the facade segment as active again</span><br/><span class="hl-1">      </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">setSegment</span><span class="hl-1">(</span><span class="hl-2">segment</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="../modules/_aws_lambda_powertools_tracer._internal_.html" class="tsd-signature-type" data-tsd-kind="Namespace">&lt;internal&gt;</a><span class="tsd-signature-symbol">.</span><a href="_aws_lambda_powertools_tracer._internal_.Utility.html" class="tsd-signature-type" data-tsd-kind="Class">Utility</a><ul class="tsd-hierarchy"><li><span class="target">Tracer</span></li></ul></li></ul></section><section class="tsd-panel"><h3>Implements</h3><ul class="tsd-hierarchy"><li><a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html" class="tsd-signature-type" data-tsd-kind="Interface">TracerInterface</a></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="_aws_lambda_powertools_tracer.Tracer.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#provider" class="tsd-kind-icon">provider</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addErrorAsMetadata" class="tsd-kind-icon">add<wbr/>Error<wbr/>As<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addResponseAsMetadata" class="tsd-kind-icon">add<wbr/>Response<wbr/>As<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addServiceNameAnnotation" class="tsd-kind-icon">add<wbr/>Service<wbr/>Name<wbr/>Annotation</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#annotateColdStart" class="tsd-kind-icon">annotate<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWS" class="tsd-kind-icon">captureAWS</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSClient" class="tsd-kind-icon">captureAWSClient</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSv3Client" class="tsd-kind-icon">captureAWSv3<wbr/>Client</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureLambdaHandler" class="tsd-kind-icon">capture<wbr/>Lambda<wbr/>Handler</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureMethod" class="tsd-kind-icon">capture<wbr/>Method</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="_aws_lambda_powertools_tracer.Tracer.html#getColdStart" class="tsd-kind-icon">get<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#getSegment" class="tsd-kind-icon">get<wbr/>Segment</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="_aws_lambda_powertools_tracer.Tracer.html#isColdStart" class="tsd-kind-icon">is<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#isTracingEnabled" class="tsd-kind-icon">is<wbr/>Tracing<wbr/>Enabled</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#putAnnotation" class="tsd-kind-icon">put<wbr/>Annotation</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#putMetadata" class="tsd-kind-icon">put<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#setSegment" class="tsd-kind-icon">set<wbr/>Segment</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">new <wbr/>Tracer<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">?: </span><a href="../modules/_aws_lambda_powertools_tracer._internal_.html#TracerOptions" class="tsd-signature-type" data-tsd-kind="Type alias">TracerOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="_aws_lambda_powertools_tracer.Tracer.html" class="tsd-signature-type" data-tsd-kind="Class">Tracer</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="_aws_lambda_powertools_tracer._internal_.Utility.html">Utility</a>.<a href="_aws_lambda_powertools_tracer._internal_.Utility.html#constructor">constructor</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L132">tracing/src/Tracer.ts:132</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a href="../modules/_aws_lambda_powertools_tracer._internal_.html#TracerOptions" class="tsd-signature-type" data-tsd-kind="Type alias">TracerOptions</a><span class="tsd-signature-symbol"> = {}</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="_aws_lambda_powertools_tracer.Tracer.html" class="tsd-signature-type" data-tsd-kind="Class">Tracer</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="provider" class="tsd-anchor"></a><h3 class="tsd-anchor-link">provider<a href="#provider" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">provider<span class="tsd-signature-symbol">:</span> <a href="../interfaces/_aws_lambda_powertools_tracer._internal_.ProviderServiceInterface.html" class="tsd-signature-type" data-tsd-kind="Interface">ProviderServiceInterface</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L116">tracing/src/Tracer.ts:116</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="addErrorAsMetadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Error<wbr/>As<wbr/>Metadata<a href="#addErrorAsMetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">add<wbr/>Error<wbr/>As<wbr/>Metadata<span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#addErrorAsMetadata">addErrorAsMetadata</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L153">tracing/src/Tracer.ts:153</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add an error to the current segment or subsegment as metadata.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-errors">https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-errors</a></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">Error</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Error to serialize as metadata</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="addResponseAsMetadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Response<wbr/>As<wbr/>Metadata<a href="#addResponseAsMetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">add<wbr/>Response<wbr/>As<wbr/>Metadata<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">unknown</span>, methodName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#addResponseAsMetadata">addResponseAsMetadata</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L176">tracing/src/Tracer.ts:176</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add response data to the current segment or subsegment as metadata.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-annotations">https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-annotations</a></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> data: <span class="tsd-signature-type">unknown</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Data to serialize as metadata</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> methodName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Name of the method that is being traced</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="addServiceNameAnnotation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Service<wbr/>Name<wbr/>Annotation<a href="#addServiceNameAnnotation" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">add<wbr/>Service<wbr/>Name<wbr/>Annotation<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#addServiceNameAnnotation">addServiceNameAnnotation</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L188">tracing/src/Tracer.ts:188</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add service name to the current segment or subsegment as annotation.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="annotateColdStart" class="tsd-anchor"></a><h3 class="tsd-anchor-link">annotate<wbr/>Cold<wbr/>Start<a href="#annotateColdStart" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">annotate<wbr/>Cold<wbr/>Start<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#annotateColdStart">annotateColdStart</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L204">tracing/src/Tracer.ts:204</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add ColdStart annotation to the current segment or subsegment.</p>
</div><div><p>If Tracer has been initialized outside the Lambda handler then the same instance
of Tracer will be reused throughout the lifecycle of that same Lambda execution environment
and this method will annotate <code>ColdStart: false</code> after the first invocation.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html">https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html</a></p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a id="captureAWS" class="tsd-anchor"></a><h3 class="tsd-anchor-link">captureAWS<a href="#captureAWS" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">captureAWS<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>aws<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#captureAWS">captureAWS</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L232">tracing/src/Tracer.ts:232</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Patch all AWS SDK v2 clients and create traces when your application makes calls to AWS services.</p>
</div><div><p>If you want to patch a specific client use <a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSClient">captureAWSClient</a> and if you are using AWS SDK v3 use <a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSv3Client">captureAWSv3Client</a> instead.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">AWS</span><span class="hl-1"> = </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureAWS</span><span class="hl-1">(</span><span class="hl-6">require</span><span class="hl-1">(</span><span class="hl-3">&#39;aws-sdk&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>aws: <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>AWS SDK v2 import</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h4><div><p>AWS - Instrumented AWS SDK</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a id="captureAWSClient" class="tsd-anchor"></a><h3 class="tsd-anchor-link">captureAWSClient<a href="#captureAWSClient" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">captureAWSClient<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>service<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#captureAWSClient">captureAWSClient</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L261">tracing/src/Tracer.ts:261</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Patch a specific AWS SDK v2 client and create traces when your application makes calls to that AWS service.</p>
</div><div><p>If you want to patch all clients use <a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWS">captureAWS</a> and if you are using AWS SDK v3 use <a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSv3Client">captureAWSv3Client</a> instead.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">S3</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;aws-sdk&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">s3</span><span class="hl-1"> = </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureAWSClient</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">S3</span><span class="hl-1">({ </span><span class="hl-2">apiVersion:</span><span class="hl-1"> </span><span class="hl-3">&quot;2006-03-01&quot;</span><span class="hl-1"> }));</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>service: <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>AWS SDK v2 client</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h4><div><p>service - Instrumented AWS SDK v2 client</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a id="captureAWSv3Client" class="tsd-anchor"></a><h3 class="tsd-anchor-link">captureAWSv3<wbr/>Client<a href="#captureAWSv3Client" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">captureAWSv3<wbr/>Client<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>service<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#captureAWSv3Client">captureAWSv3Client</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L304">tracing/src/Tracer.ts:304</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Patch an AWS SDK v3 client and create traces when your application makes calls to that AWS service.</p>
</div><div><p>If you are using AWS SDK v2 use <a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSClient">captureAWSClient</a> instead.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">S3Client</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@aws-sdk/client-s3&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">S3Client</span><span class="hl-1">({});</span><br/><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureAWSv3Client</span><span class="hl-1">(</span><span class="hl-2">client</span><span class="hl-1">);</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>service: <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>AWS SDK v3 client</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h4><div><p>service - Instrumented AWS SDK v3 client</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="captureLambdaHandler" class="tsd-anchor"></a><h3 class="tsd-anchor-link">capture<wbr/>Lambda<wbr/>Handler<a href="#captureLambdaHandler" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">capture<wbr/>Lambda<wbr/>Handler<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules/_aws_lambda_powertools_tracer._internal_.html" class="tsd-signature-type" data-tsd-kind="Namespace">&lt;internal&gt;</a><span class="tsd-signature-symbol">.</span><a href="../modules/_aws_lambda_powertools_tracer._internal_.html#HandlerMethodDecorator" class="tsd-signature-type" data-tsd-kind="Type alias">HandlerMethodDecorator</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#captureLambdaHandler">captureLambdaHandler</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L341">tracing/src/Tracer.ts:341</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A decorator automating capture of metadata and annotations on segments or subsegments for a Lambda Handler.</p>
</div><div><p>Using this decorator on your handler function will automatically:</p>
<ul>
<li>handle the subsegment lifecycle</li>
<li>add the <code>ColdStart</code> annotation</li>
<li>add the function response as metadata</li>
<li>add the function error as metadata (if any)</li>
</ul>
<p>Note: Currently TypeScript only supports decorators on classes and methods. If you are using the
function syntax, you should use the middleware instead.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">Lambda</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureLambdaHandler</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1">(</span><span class="hl-2">event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handlerClass</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Lambda</span><span class="hl-1">();</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handler</span><span class="hl-1"> = </span><span class="hl-2">handlerClass</span><span class="hl-1">.</span><span class="hl-2">handler</span><span class="hl-1">; </span>
</code></pre>
</dd><dt>decorator</dt><dd><p>Class</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <a href="../modules/_aws_lambda_powertools_tracer._internal_.html" class="tsd-signature-type" data-tsd-kind="Namespace">&lt;internal&gt;</a><span class="tsd-signature-symbol">.</span><a href="../modules/_aws_lambda_powertools_tracer._internal_.html#HandlerMethodDecorator" class="tsd-signature-type" data-tsd-kind="Type alias">HandlerMethodDecorator</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="captureMethod" class="tsd-anchor"></a><h3 class="tsd-anchor-link">capture<wbr/>Method<a href="#captureMethod" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">capture<wbr/>Method<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules/_aws_lambda_powertools_tracer._internal_.html#MethodDecorator" class="tsd-signature-type" data-tsd-kind="Type alias">MethodDecorator</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#captureMethod">captureMethod</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L408">tracing/src/Tracer.ts:408</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A decorator automating capture of metadata and annotations on segments or subsegments for an arbitrary function.</p>
</div><div><p>Using this decorator on your function will automatically:</p>
<ul>
<li>handle the subsegment lifecycle</li>
<li>add the function response as metadata</li>
<li>add the function error as metadata (if any)</li>
</ul>
<p>Note: Currently TypeScript only supports decorators on classes and methods. If you are using the
function syntax, you should use the middleware instead.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">Lambda</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">captureMethod</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">myMethod</span><span class="hl-1">(</span><span class="hl-2">param</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1">(</span><span class="hl-2">event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handlerClass</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Lambda</span><span class="hl-1">();</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">myMethod</span><span class="hl-1"> = </span><span class="hl-2">handlerClass</span><span class="hl-1">.</span><span class="hl-2">myMethod</span><span class="hl-1">; </span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">handler</span><span class="hl-1"> = </span><span class="hl-2">handlerClass</span><span class="hl-1">.</span><span class="hl-2">handler</span><span class="hl-1">; </span>
</code></pre>
</dd><dt>decorator</dt><dd><p>Class</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <a href="../modules/_aws_lambda_powertools_tracer._internal_.html#MethodDecorator" class="tsd-signature-type" data-tsd-kind="Type alias">MethodDecorator</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="getColdStart" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Cold<wbr/>Start<a href="#getColdStart" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">get<wbr/>Cold<wbr/>Start<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="_aws_lambda_powertools_tracer._internal_.Utility.html">Utility</a>.<a href="_aws_lambda_powertools_tracer._internal_.Utility.html#getColdStart">getColdStart</a></p><ul><li>Defined in commons/lib/Utility.d.ts:60</li></ul></aside><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getSegment" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Segment<a href="#getSegment" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Segment<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Segment</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Subsegment</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#getSegment">getSegment</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L460">tracing/src/Tracer.ts:460</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get the active segment or subsegment in the current scope.</p>
</div><div><p>Usually you won&#39;t need to call this method unless you are creating custom subsegments or using manual mode.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-segments">https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-segments</a></p>
</dd><dt>see</dt><dd><p><a href="https://awslabs.github.io/aws-lambda-powertools-typescript/latest/core/tracer/#escape-hatch-mechanism">https://awslabs.github.io/aws-lambda-powertools-typescript/latest/core/tracer/#escape-hatch-mechanism</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">currentSegment</span><span class="hl-1"> = </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">getSegment</span><span class="hl-1">();</span><br/><span class="hl-1">  ... </span><span class="hl-8">// Do something with segment</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Segment</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Subsegment</span></h4><div><p>segment - The active segment or subsegment in the current scope.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="isColdStart" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Cold<wbr/>Start<a href="#isColdStart" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">is<wbr/>Cold<wbr/>Start<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="_aws_lambda_powertools_tracer._internal_.Utility.html">Utility</a>.<a href="_aws_lambda_powertools_tracer._internal_.Utility.html#isColdStart">isColdStart</a></p><ul><li>Defined in commons/lib/Utility.d.ts:61</li></ul></aside><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="isTracingEnabled" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Tracing<wbr/>Enabled<a href="#isTracingEnabled" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">is<wbr/>Tracing<wbr/>Enabled<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#isTracingEnabled">isTracingEnabled</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L480">tracing/src/Tracer.ts:480</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get the current value of the <code>tracingEnabled</code> property.</p>
</div><div><p>You can use this method during manual instrumentation to determine
if tracer is currently enabled.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div><p>tracingEnabled - <code>true</code> if tracing is enabled, <code>false</code> otherwise.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="putAnnotation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">put<wbr/>Annotation<a href="#putAnnotation" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">put<wbr/>Annotation<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#putAnnotation">putAnnotation</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L503">tracing/src/Tracer.ts:503</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds annotation to existing segment or subsegment.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-annotations">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-annotations</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">putAnnotation</span><span class="hl-1">(</span><span class="hl-3">&#39;successfulBooking&#39;</span><span class="hl-1">, </span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Annotation key</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Value for annotation</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="putMetadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link">put<wbr/>Metadata<a href="#putMetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">put<wbr/>Metadata<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span>, namespace<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#putMetadata">putMetadata</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L536">tracing/src/Tracer.ts:536</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds metadata to existing segment or subsegment.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-metadata">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-metadata</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-6">someLogic</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">putMetadata</span><span class="hl-1">(</span><span class="hl-3">&#39;paymentResponse&#39;</span><span class="hl-1">, </span><span class="hl-2">res</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metadata key</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">unknown</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Value for metadata</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> namespace: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Namespace that metadata will lie under, if none is passed it will use the serviceName</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="setSegment" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Segment<a href="#setSegment" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">set<wbr/>Segment<span class="tsd-signature-symbol">(</span>segment<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Segment</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Subsegment</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html">TracerInterface</a>.<a href="../interfaces/_aws_lambda_powertools_tracer.TracerInterface.html#setSegment">setSegment</a></p><ul><li>Defined in <a href="https://github.com/gyft/aws-lambda-powertools-typescript/blob/af0cefb/packages/tracing/src/Tracer.ts#L572">tracing/src/Tracer.ts:572</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Sets the passed subsegment as the current active subsegment.</p>
</div><div><p>If you are using a middleware or a decorator this is done automatically for you.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-subsegments.html">https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-subsegments.html</a></p>
</dd><dt>example</dt><dd><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Tracer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-lambda-powertools/tracer&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Segment</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;aws-xray-sdk-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">tracer</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Tracer</span><span class="hl-1">({ </span><span class="hl-2">serviceName:</span><span class="hl-1"> </span><span class="hl-3">&#39;serverlessAirline&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">_event</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-2">_context</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">subsegment</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Subsegment</span><span class="hl-1">(</span><span class="hl-3">&#39;### foo.bar&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">tracer</span><span class="hl-1">.</span><span class="hl-6">setSegment</span><span class="hl-1">(</span><span class="hl-2">subsegment</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>segment: <span class="tsd-signature-type">Segment</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Subsegment</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subsegment to set as the current segment</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/_aws_lambda_powertools_commons.html">@aws-<wbr/>lambda-<wbr/>powertools/commons</a></li><li class=" tsd-kind-module"><a href="../modules/_aws_lambda_powertools_logger.html">@aws-<wbr/>lambda-<wbr/>powertools/logger</a></li><li class=" tsd-kind-module"><a href="../modules/_aws_lambda_powertools_metrics.html">@aws-<wbr/>lambda-<wbr/>powertools/metrics</a></li><li class="current tsd-kind-module"><a href="../modules/_aws_lambda_powertools_tracer.html">@aws-<wbr/>lambda-<wbr/>powertools/tracer</a><ul><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/_aws_lambda_powertools_tracer._internal_.html">&lt;internal&gt;</a></li></ul></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="_aws_lambda_powertools_tracer.Tracer.html" class="tsd-kind-icon">Tracer</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="_aws_lambda_powertools_tracer.Tracer.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#provider" class="tsd-kind-icon">provider</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addErrorAsMetadata" class="tsd-kind-icon">add<wbr/>Error<wbr/>As<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addResponseAsMetadata" class="tsd-kind-icon">add<wbr/>Response<wbr/>As<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#addServiceNameAnnotation" class="tsd-kind-icon">add<wbr/>Service<wbr/>Name<wbr/>Annotation</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#annotateColdStart" class="tsd-kind-icon">annotate<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWS" class="tsd-kind-icon">captureAWS</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSClient" class="tsd-kind-icon">captureAWSClient</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureAWSv3Client" class="tsd-kind-icon">captureAWSv3<wbr/>Client</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureLambdaHandler" class="tsd-kind-icon">capture<wbr/>Lambda<wbr/>Handler</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#captureMethod" class="tsd-kind-icon">capture<wbr/>Method</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="_aws_lambda_powertools_tracer.Tracer.html#getColdStart" class="tsd-kind-icon">get<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#getSegment" class="tsd-kind-icon">get<wbr/>Segment</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="_aws_lambda_powertools_tracer.Tracer.html#isColdStart" class="tsd-kind-icon">is<wbr/>Cold<wbr/>Start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#isTracingEnabled" class="tsd-kind-icon">is<wbr/>Tracing<wbr/>Enabled</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#putAnnotation" class="tsd-kind-icon">put<wbr/>Annotation</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#putMetadata" class="tsd-kind-icon">put<wbr/>Metadata</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="_aws_lambda_powertools_tracer.Tracer.html#setSegment" class="tsd-kind-icon">set<wbr/>Segment</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>